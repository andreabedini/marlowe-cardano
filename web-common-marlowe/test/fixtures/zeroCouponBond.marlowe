(When [Case (Deposit (Role "Lender") (Role "Lender") (Token "" "") (Constant fromString "2000")) (Pay (Role "Lender") (Party (Role "Borrower")) (Token "" "") (Constant fromString "2000") (When [Case (Deposit (Role "Borrower") (Role "Borrower") (Token "" "") (AddValue (Constant fromString "3") (Constant fromString "2000"))) (Pay (Role "Borrower") (Party (Role "Lender")) (Token "" "") (AddValue (Constant fromString "3") (Constant fromString "2000")) Close)] 1500 Close))] 600 Close)