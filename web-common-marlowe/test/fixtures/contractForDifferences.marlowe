(When [Case (Deposit (Role "Party") (Role "Party") (Token "" "") (Constant fromString "25000")) (When [Case (Deposit (Role "Counterparty") (Role "Counterparty") (Token "" "") (Constant fromString "1800")) (When [] 900 (When [Case (Choice (ChoiceId "Price in first window" (Role "Oracle")) [(Bound 0 1000000000)]) (When [] 1500 (When [Case (Choice (ChoiceId "Price in second window" (Role "Oracle")) [(Bound 0 1000000000)]) (If (ValueGT (ChoiceValue (ChoiceId "Price in first window" (Role "Oracle"))) (ChoiceValue (ChoiceId "Price in second window" (Role "Oracle")))) (Let "Decrease in price" (SubValue (ChoiceValue (ChoiceId "Price in first window" (Role "Oracle"))) (ChoiceValue (ChoiceId "Price in second window" (Role "Oracle")))) (Pay (Role "Counterparty") (Account (Role "Party")) (Token "" "") (Cond (ValueLT (UseValue "Decrease in price") (Constant fromString "1800")) (UseValue "Decrease in price") (Constant fromString "1800")) Close)) (If (ValueLT (ChoiceValue (ChoiceId "Price in first window" (Role "Oracle"))) (ChoiceValue (ChoiceId "Price in second window" (Role "Oracle")))) (Let "Increase in price" (SubValue (ChoiceValue (ChoiceId "Price in second window" (Role "Oracle"))) (ChoiceValue (ChoiceId "Price in first window" (Role "Oracle")))) (Pay (Role "Party") (Account (Role "Counterparty")) (Token "" "") (Cond (ValueLT (UseValue "Increase in price") (Constant fromString "25000")) (UseValue "Increase in price") (Constant fromString "25000")) Close)) Close))] 1800 Close))] 1200 Close))] 600 Close)] 300 Close)